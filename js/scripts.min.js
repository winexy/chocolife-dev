"use strict";const path=location.pathname,searchFormInput=document.querySelector(".search-form > .input"),activeCategory=document.querySelector(".categories__active-element"),categories=document.querySelectorAll(".categories__item"),anchor=document.querySelector(".anchor"),PADDING=20;let activeCategoryWidth=categories[0].clientWidth+PADDING;const blur=document.querySelector(".categories__blur"),categoryBlock=document.querySelector(".categories"),rulesTrigger=document.querySelector("#rules")||null,tabs=document.querySelector(".tabs"),offersInfoDark=document.querySelectorAll(".offers__info--dark");function handleAnchorClick(){const e=setInterval(function(){if(window.scrollY<=0)return clearInterval(e);window.scrollTo(0,window.scrollY-50)},5)}function handleRulesOpen(e){e.target.previousElementSibling.children[0].classList.toggle("rules__caret--show")}function handleScroll(){let e=window.scrollY,t=document.querySelector(".categories");if(e>137){if(t.classList.contains("categories--fixed"))return;t.classList.add("categories--fixed"),anchor.style.display="block"}else{if(!t.classList.contains("categories--fixed"))return;t.classList.remove("categories--fixed"),anchor.style.display="none"}}function handleSearchFormFocus(e){e.target.classList.add("focus"),e.target.nextElementSibling.classList.add("focus"),e.target.parentElement.classList.add("search-form--shadow")}function handleSearchFormBlur(e){e.target.classList.remove("focus"),e.target.nextElementSibling.classList.remove("focus"),e.target.parentElement.classList.remove("search-form--shadow")}function handleCategoryHover(e){let t=e.target;activeCategoryWidth=t.clientWidth+PADDING,activeCategory.style.width=activeCategoryWidth+"px",activeCategory.style.left=t.offsetLeft-10+"px"}function handleCategoryBlurOn(){blur.style.display="block",setTimeout(()=>blur.style.opacity="1",100)}function handleCategoryBlurOff(){blur.style.opacity="0",setTimeout(()=>blur.style.display="none",300)}anchor.addEventListener("click",handleAnchorClick),window.addEventListener("scroll",handleScroll),searchFormInput.addEventListener("focus",handleSearchFormFocus),searchFormInput.addEventListener("blur",handleSearchFormBlur),categories.forEach(e=>e.addEventListener("mouseover",handleCategoryHover)),categoryBlock.addEventListener("mouseenter",handleCategoryBlurOn),categoryBlock.addEventListener("mouseleave",handleCategoryBlurOff),offersInfoDark.forEach(e=>{e.addEventListener("mouseover",t=>{if(t.target!==e)return;t.stopPropagation();let r=t.target;r.style.height="80px";const o=r.querySelector(".offers__sold"),a=r.querySelector(".offers__rating");o.style.opacity="1",a&&(a.style.opacity="1")}),e.addEventListener("mouseleave",e=>{e.stopPropagation();let t=e.target;const r=t.querySelector(".offers__sold"),o=t.querySelector(".offers__rating");r.style.opacity="0",o&&(o.style.opacity="0"),setTimeout(()=>t.style.height="50px",150)})}),function(){if(activeCategory.style.width=activeCategoryWidth+"px",activeCategory.style.left=categories[0].offsetLeft-10+"px",blur.style.height=document.querySelector("body").clientHeight-36+"px",rulesTrigger&&rulesTrigger.addEventListener("change",handleRulesOpen),tabs){const e=[...tabs.querySelectorAll(".tabs__button")],t=[...tabs.querySelectorAll(".tabs__item")];let r=e[0];const o=e=>{const o=e.target,a=o.dataset.tabFor;r.classList.remove("single-offer-content__menu-item--active"),o.classList.add("single-offer-content__menu-item--active");const s=t.find(e=>e.dataset.tabIndex===r.dataset.tabFor),l=t.find(e=>e.dataset.tabIndex===a);s.style.display="none",l.style.display="block",r=o};e.forEach(e=>e.addEventListener("click",o))}}();